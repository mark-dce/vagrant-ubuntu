# Ubuntu Server Quick Install
# by Dustin Kirkland <kirkland@ubuntu.com>
#  * Documentation: http://bit.ly/uquick-doc 

# Preseeding only locale sets language, country and locale.
d-i	debian-installer/locale	string en_US
d-i	debian-installer/splash boolean false # Removed Trusty
d-i	console-setup/ask_detect	boolean false
d-i	console-setup/layoutcode	string us
d-i	console-setup/variantcode	string # Removed Trusty
d-i	netcfg/get_nameservers	string # Removed Trusty
d-i	netcfg/get_ipaddress	string # Removed Trusty
d-i	netcfg/get_netmask	string 255.255.255.0 # Removed Trusty
d-i	netcfg/get_gateway	string # Removed Trusty
d-i	netcfg/confirm_static	boolean true # Removed Trusty
d-i	netcfg/get_hostname string hydra
d-i	netcfg/get_domain string local
choose-mirror-bin	mirror/http/proxy	string	# Removed Trusty
d-i	partman-auto/method string regular
d-i	partman-lvm/device_remove_lvm boolean true
d-i	partman-lvm/confirm boolean true
d-i	partman/confirm_write_new_label boolean true
d-i	partman/choose_partition        select Finish partitioning and write changes to disk
d-i	partman/confirm boolean true
d-i	partman/confirm_nooverwrite boolean true
d-i	partman/default_filesystem string ext3
d-i	clock-setup/utc boolean true
d-i	time/zone string US/Central
d-i	clock-setup/ntp	boolean true
d-i	clock-setup/ntp-server	string ntp.ubuntu.com
d-i	base-installer/kernel/image	string linux-server
d-i	passwd/root-login	boolean false
d-i	passwd/make-user	boolean true
d-i	passwd/user-fullname	string vagrant
d-i	passwd/username	string vagrant
d-i	passwd/user-password password vagrant
d-i	passwd/user-password-again password vagrant
d-i	passwd/user-uid	string 
d-i	user-setup/allow-password-weak	boolean true
d-i	user-setup/encrypt-home	boolean false
d-i	passwd/user-default-groups	string adm cdrom dialout lpadmin plugdev sambashare
d-i	apt-setup/services-select	multiselect security # Default Trusty
d-i	apt-setup/security_host	string security.ubuntu.com # Default Trusty
d-i	apt-setup/security_path	string /ubuntu # Default Trusty
d-i	debian-installer/allow_unauthenticated	string false # Default Trusty
d-i	pkgsel/language-packs	multiselect # Default Trusty
d-i	pkgsel/update-policy	select none
d-i	pkgsel/updatedb	boolean true # Default Trusty
d-i	grub-installer/skip	boolean false # Default Trusty
d-i	lilo-installer/skip	boolean false # Default Trusty
d-i	grub-installer/only_debian	boolean true
d-i	grub-installer/with_other_os	boolean true
d-i	finish-install/keep-consoles	boolean false # Default Trusty
d-i	finish-install/reboot_in_progress	note 
d-i	cdrom-detect/eject	boolean true  # Default Trusty
d-i	debian-installer/exit/halt	boolean false  # Default Trusty
d-i	debian-installer/exit/poweroff	boolean false  # Default Trusty
d-i	pkgsel/upgrade	select full-upgrade
d-i	pkgsel/include string byobu vim openssh-server linux-headers-generic build-essential dkms

# Suggest LVM by default.
d-i	partman-auto/init_automatically_partition	string some_device_lvm
d-i	partman-auto/init_automatically_partition	seen false
# Install the Ubuntu Server seed.
tasksel	tasksel/force-tasks	string server
# Only install basic language packs. Let tasksel ask about tasks.
d-i	pkgsel/language-pack-patterns	string
# No language support packages.
d-i	pkgsel/install-language-support	boolean false
# Only ask the UTC question if there are other operating systems installed.
d-i	clock-setup/utc-auto	boolean true
# Verbose output and no boot splash screen.
d-i	debian-installer/quiet	boolean false
d-i	debian-installer/splash	boolean false
# Install the debconf oem-config frontend (if in OEM mode).
d-i	oem-config-udeb/frontend	string debconf
# Wait for two seconds in grub
d-i	grub-installer/timeout	string 2
# Add the network and tasks oem-config steps by default.
oem-config	oem-config/steps	multiselect language, timezone, keyboard, user, network, tasks
d-i	base-installer/kernel/altmeta	string lts-saucy


# Setup for Vagrant
d-i preseed/late_command string mount /dev/fd0 /media ; cp /media/vagrant_setup.sh /target/tmp ; in-target /tmp/vagrant_setup.sh 
